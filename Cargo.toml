[package]
name = "vndb"
version = "0.8.0"
authors = ["Douman <douman@gmx.se>"]
description = "Kawaii VNDB API"
license = "MIT"
edition = "2018"

keywords = ["vndb"]

repository = "https://github.com/DoumanAsh/vndb.rs"
documentation = "https://docs.rs/vndb"

readme = "README.md"

[badges]
travis-ci = { repository = "DoumanAsh/vndb.rs" }

[dependencies.serde]
version = "1"
features = ["derive"]

[dependencies]
serde_json = "1"
bytes = { version = "0.4", optional = true }
tokio-codec = { version = "0.2.0-alpha", optional = true }
tokio-io = { version = "0.2.0-alpha", optional = true }
tokio-tcp = { version = "0.2.0-alpha", optional = true }
futures-core-preview = { version = "0.3.0-alpha", optional = true }
futures-sink-preview = { version = "0.3.0-alpha", optional = true }

tokio-rustls = { git = "https://github.com/quininer/tokio-rustls", branch = "tokio-0.2", optional = true }
webpki-roots = { version = "0.16", optional = true }

[dev-dependencies]
tokio = "0.2.0-alpha"

[features]
default = []
# Enables tokio related stuff
tokio-on = ["bytes", "tokio-codec", "tokio-io", "tokio-tcp", "futures-core-preview", "futures-sink-preview"]
# Eanbles rustls
rustls = ["tokio-rustls", "webpki-roots"]

[package.metadata.docs.rs]
features = ["tokio-on"]

[[test]]
name = "client"
path = "tests/client.rs"
required-features = ["tokio-on", "rustls"]

[[test]]
name = "codec"
path = "tests/codec.rs"
required-features = ["tokio-on"]

[[test]]
name = "protocol"
path = "tests/protocol.rs"
